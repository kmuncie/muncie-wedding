"use strict";var app=function(document,$){var _init=(document.documentElement,function(){$(window).load(function(){$(".Collage").removeWhitespace().collagePlus({allowPartialLastRow:!0})});var resizeTimer=null;$(window).bind("resize",function(){$(".Collage .Image_Wrapper").css("opacity",0),resizeTimer&&clearTimeout(resizeTimer),resizeTimer=setTimeout(collage,200)}),$(function(){$(".countdown").countdown({date:"March 28, 2015 15:00:00"})})});return{init:_init}}(document,jQuery);!function(){app.init()}(),function($){$.fn.collagePlus=function(options){function resizeRow(obj,row,settings,rownum){for(var imageExtras=settings.padding*(obj.length-1)+obj.length*obj[0][3],albumWidthAdjusted=settings.albumWidth-imageExtras,overPercent=albumWidthAdjusted/(row-imageExtras),trackWidth=imageExtras,lastRow=row<settings.albumWidth?!0:!1,i=0;i<obj.length;i++){var $obj=$(obj[i][0]),fw=Math.floor(obj[i][1]*overPercent),fh=Math.floor(obj[i][2]*overPercent),isNotLast=!!(i<obj.length-1);settings.allowPartialLastRow===!0&&lastRow===!0&&(fw=obj[i][1],fh=obj[i][2]),trackWidth+=fw,!isNotLast&&trackWidth<settings.albumWidth&&(settings.allowPartialLastRow===!0&&lastRow===!0?fw=fw:fw+=settings.albumWidth-trackWidth),fw--;var $img=$obj.is("img")?$obj:$obj.find("img");$img.width(fw),$obj.is("img")||$obj.width(fw+obj[i][3]),$img.height(fh),$obj.is("img")||$obj.height(fh+obj[i][4]),applyModifications($obj,isNotLast,settings),$img.one("load",function(target){return function(){if("default"==settings.effect)target.animate({opacity:"1"},{duration:settings.fadeSpeed});else{if("vertical"==settings.direction)var sequence=10>=rownum?rownum:10;else var sequence=9>=i?i+1:10;target.removeClass(function(index,css){return(css.match(/\beffect-\S+/g)||[]).join(" ")}),target.addClass(settings.effect),target.addClass("effect-duration-"+sequence)}}}($obj)).each(function(){this.complete&&$(this).trigger("load")})}}function applyModifications($obj,isNotLast,settings){var css={"margin-bottom":settings.padding+"px","margin-right":isNotLast?settings.padding+"px":"0px",display:settings.display,"vertical-align":"bottom",overflow:"hidden"};return $obj.css(css)}function getImgProperty(img){$img=$(img);var params=new Array;return params.w=parseFloat($img.css("border-left-width"))+parseFloat($img.css("border-right-width")),params.h=parseFloat($img.css("border-top-width"))+parseFloat($img.css("border-bottom-width")),params}return this.each(function(){var row=0,elements=[],rownum=1,$this=$(this);$.fn.collagePlus.defaults.albumWidth=$this.width(),$.fn.collagePlus.defaults.padding=parseFloat($this.css("padding-left")),$.fn.collagePlus.defaults.images=$this.children();var settings=$.extend({},$.fn.collagePlus.defaults,options);settings.images.each(function(index){var $this=$(this),$img=$this.is("img")?$this:$(this).find("img"),w="undefined"!=typeof $img.data("width")?$img.data("width"):$img.width(),h="undefined"!=typeof $img.data("height")?$img.data("height"):$img.height(),imgParams=getImgProperty($img);$img.data("width",w),$img.data("height",h);var nw=Math.ceil(w/h*settings.targetHeight),nh=Math.ceil(settings.targetHeight);elements.push([this,nw,nh,imgParams.w,imgParams.h]),row+=nw+imgParams.w+settings.padding,row>settings.albumWidth&&0!=elements.length&&(resizeRow(elements,row-settings.padding,settings,rownum),delete row,delete elements,row=0,elements=[],rownum+=1),settings.images.length-1==index&&0!=elements.length&&(resizeRow(elements,row,settings,rownum),delete row,delete elements,row=0,elements=[],rownum+=1)})})},$.fn.collagePlus.defaults={targetHeight:400,fadeSpeed:"fast",display:"inline-block",effect:"default",direction:"vertical",allowPartialLastRow:!1}}(jQuery),function($){$.fn.removeWhitespace=function(){return this.contents().filter(function(){return 3==this.nodeType&&!/\S/.test(this.nodeValue)}).remove(),this}}(jQuery),!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.Countdown=e()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){var defaultOptions={date:"June 7, 2087 15:03:25",refresh:1e3,offset:0,onEnd:function(){},render:function(date){this.el.innerHTML=date.years+" years, "+date.days+" days, "+this.leadingZeros(date.hours)+" hours, "+this.leadingZeros(date.min)+" min and "+this.leadingZeros(date.sec)+" sec"}},Countdown=function(el,options){this.el=el,this.options={},this.interval=!1;for(var i in defaultOptions)defaultOptions.hasOwnProperty(i)&&(this.options[i]="undefined"!=typeof options[i]?options[i]:defaultOptions[i],"date"===i&&"object"!=typeof this.options.date&&(this.options.date=new Date(this.options.date)),"function"==typeof this.options[i]&&(this.options[i]=this.options[i].bind(this)));this.getDiffDate=function(){var diff=(this.options.date.getTime()-Date.now()+this.options.offset)/1e3,dateData={years:0,days:0,hours:0,min:0,sec:0,millisec:0};return 0>=diff?(this.interval&&(this.stop(),this.options.onEnd()),dateData):(diff>=31557600&&(dateData.years=Math.floor(diff/31557600),diff-=365.25*dateData.years*86400),diff>=86400&&(dateData.days=Math.floor(diff/86400),diff-=86400*dateData.days),diff>=3600&&(dateData.hours=Math.floor(diff/3600),diff-=3600*dateData.hours),diff>=60&&(dateData.min=Math.floor(diff/60),diff-=60*dateData.min),dateData.sec=Math.round(diff),dateData.millisec=diff%1*1e3,dateData)}.bind(this),this.leadingZeros=function(num,length){return length=length||2,num=String(num),num.length>length?num:(Array(length+1).join("0")+num).substr(-length)},this.update=function(newDate){return"object"!=typeof newDate&&(newDate=new Date(newDate)),this.options.date=newDate,this.render(),this}.bind(this),this.stop=function(){return this.interval&&(clearInterval(this.interval),this.interval=!1),this}.bind(this),this.render=function(){return this.options.render(this.getDiffDate()),this}.bind(this),this.start=function(){return this.interval?void 0:(this.render(),this.options.refresh&&(this.interval=setInterval(this.render,this.options.refresh)),this)}.bind(this),this.updateOffset=function(offset){return this.options.offset=offset,this}.bind(this),this.start()};module.exports=Countdown},{}],2:[function(require,module){var Countdown=require("./countdown.js"),NAME="countdown",DATA_ATTR="date";jQuery.fn.countdown=function(options){return $.each(this,function(i,el){var $el=$(el);$el.data(NAME)||($el.data(DATA_ATTR)&&(options.date=$el.data(DATA_ATTR)),$el.data(NAME,new Countdown(el,options)))})},module.exports=Countdown},{"./countdown.js":1}]},{},[2])(2)});